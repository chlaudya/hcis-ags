!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=5)}([function(e,t){e.exports=require("express")},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("config")},function(e,t){const r={errorHandling:function(e){if(e.response){let{status:t}=e.response;400!==t&&console.log(e)}}};e.exports=r},function(e,t){e.exports=require("cookie-parser")},function(e,t,r){const n=r(0),o=r(6),s=r(7),a=n(),i=r(8),c=r(9),u=r(4),l=r(10),p=r(11),d=r(15),f=r(17),m=r(18),h=l({cookie:!0});s.config();const g=process.env.PORT||5e3,b=f.homepage;a.use(n.json({extended:!1})),a.use(o()),a.use(i({credentials:!0,origin:g})),a.use((e,t,r)=>{d(),t.header("Access-Control-Allow-Methods","POST, GET, PUT"),r()}),a.use(u()),a.use(h),a.use((function(e,t,r){t.locals._csrf=e.csrfToken(),r()})),a.use(b+"/api/v1/auth",r(19)),a.use(b+"/api/v1/authorization",r(20)),a.use(b+"/keycloak-api",r(24)),a.use(b+"/hcis-api",m,r(25)),a.use(b,n.static(c.join(__dirname,"./client/"))),a.get("/*",(e,t)=>{t.sendFile(c.join(__dirname,"./client/index.html"))}),a.get(b+"/api/ping",(e,t)=>t.send("PING")),a.listen(g,()=>p.info(`Server started on port ${g} mode production base path : ${b}`))},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("dotenv")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("csurf")},function(e,t,r){const{createLogger:n,format:o,transports:s}=r(12),{combine:a,timestamp:i,printf:c}=o,u=r(13),l=new Date,p=u.format(l,"YYYY-MM-DD"),d=r(14).homedir(),f=c(({level:e,message:t,timestamp:r})=>`{'timestamp':'${r}','level':'${e.toUpperCase()}','message':'${t}'}`),m=n({level:"warn",format:a(i(),f),transports:[new s.Console({level:"http"}),new s.File({filename:d+`/user-management-ui/logs/${p}.log`,level:"info"})]});e.exports=m},function(e,t){e.exports=require("winston")},function(e,t){e.exports=require("date-and-time")},function(e,t){e.exports=require("os")},function(e,t,r){const n=r(16);e.exports=()=>{n.header.errors=[],n.data=null}},function(e,t){e.exports={header:{errors:[]},data:{}}},function(e){e.exports=JSON.parse('{"name":"hcis-ags","version":"2.0.0","private":true,"homepage":"","dependencies":{"@emotion/cache":"^11.4.0","@emotion/react":"^11.10.5","@emotion/styled":"^11.10.5","@material-ui/core":"^5.0.0-beta.0","@material-ui/data-grid":"^4.0.0-alpha.33","@material-ui/icons":"^5.0.0-beta.0","@material-ui/lab":"^5.0.0-alpha.39","@material-ui/styles":"^5.0.0-beta.0","@material-ui/utils":"^5.0.0-beta.0","@mui/icons-material":"^5.11.0","@mui/material":"^5.11.4","@mui/x-data-grid":"^5.17.18","@react-keycloak/web":"^3.4.0","@tabler/icons":"^1.39.1","@testing-library/jest-dom":"^5.11.10","@testing-library/react":"^11.2.6","@testing-library/user-event":"^12.8.3","apexcharts":"^3.26.1","axios":"^1.3.4","bootstrap":"^5.2.3","classnames":"^2.3.2","clsx":"^1.1.1","compression":"^1.7.4","cookie-parser":"^1.4.6","cors":"^2.8.5","csurf":"^1.11.0","config":"^3.3.6","date-and-time":"^1.0.1","dotenv":"^9.0.2","express":"^4.17.1","formik":"^2.1.3","framer-motion":"^4.1.13","history":"^5.0.0","http-proxy-middleware":"^2.0.6","jwt-decode":"^3.1.2","keycloak-backend":"^3.0.0","keycloak-js":"^20.0.3","material-ui-popup-state":"^1.8.0","nodemon":"^2.0.14","prop-types":"^15.7.2","react":"^17.0.2","react-apexcharts":"^1.3.7","react-data-table-component":"^7.5.3","react-device-detect":"^1.17.0","react-dom":"^17.0.2","react-feather":"^2.0.10","react-modal":"^3.16.1","react-perfect-scrollbar":"^1.5.8","react-redux":"^7.2.3","react-router":"^6.8.1","react-router-dom":"^6.8.1","react-scripts":"^4.0.3","react-select":"^5.7.0","react-toastify":"^8.1.0","reactjs-popup":"^2.0.5","reactstrap":"^9.1.5","redux":"^4.0.5","styled-components":"^5.3.6","winston":"^3.3.3","yup":"^0.28.1"},"scripts":{"start":"concurrently \\"react-app-rewired start\\" \\" env-cmd -f .env nodemon server\\" ","build":"concurrently \\" react-app-rewired build \\" \\"webpack --mode production --config ./server/webpack-server-config.js \\" --max_old_space_size=4096","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app"]},"babel":{"presets":["@babel/preset-react"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@babel/eslint-parser":"^7.14.7","babel-cli":"^6.26.0","babel-loader":"^7.1.4","babel-core":"^7.0.0-bridge.0","concurrently":"^6.0.2","env-cmd":"^10.1.0","eslint":"^7.31.0","eslint-config-airbnb":"18.2.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"2.22.1","eslint-plugin-jsx-a11y":"6.4.1","eslint-plugin-prettier":"^3.4.0","eslint-plugin-react":"7.21.5","eslint-plugin-react-hooks":"^4.2.0","lodash":"^4.17.21","prettier":"^2.2.1","react-app-rewire-alias":"^1.1.7","react-app-rewire-postcss":"^3.0.2","react-app-rewired":"^2.1.5","sass":"^1.32.11","webpack-cli":"^4.9.1","webpack-node-externals":"^3.0.0"}}')},function(e,t,r){const n=r(1),o=r(2).get("keycloak");e.exports=async(e,t,r)=>{try{if(!e.headers.authorization)throw new Error("Token verification failed");const s={headers:{Authorization:e.headers.authorization}};await n.get(`${o.Url}/realms/${o.Realms}/protocol/openid-connect/userinfo`,s).then(()=>r()).catch(e=>{console.error(e),t.status(401).json(e.response)})}catch(e){t.status(401).json(e)}}},function(e,t,r){const n=r(0),o=n.Router(),s=n(),a=r(4);s.use(a()),o.get("/csrf",async(e,t)=>{try{t.json({CSRFToken:e.csrfToken()})}catch(e){t.status(400).json(e.data)}}),e.exports=o},function(e,t,r){const n=r(0).Router(),o=r(21);n.get("/menu_permission",async(e,t)=>{try{let r=await o.menuPermission(e.headers.authorization);t.json(r)}catch(e){let{status:r}=e.response;t.status(r).json(e)}}),e.exports=n},function(e,t,r){const n=r(1),o=r(2).get("keycloak"),s=r(3),a=r(22),i=r(23),c={menuPermission:async function(e){let t=new URLSearchParams({grant_type:"urn:ietf:params:oauth:grant-type:uma-ticket",audience:o.ClientId,response_mode:"permissions"}).toString(),r={headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:e}};return n.post(o.Url+"/realms/"+o.Realms+"/protocol/openid-connect/token",t,r).then(e=>e.data).catch((function(e){throw s.errorHandling(e),e}))},listClient:async e=>{let{aud:t}=i(e);return n.get(o.Url+"/admin/realms/"+o.Realms+"/clients",{headers:{Authorization:e}}).then((function(e){return a.filter(e.data,(function(e){return a.includes(t,e.clientId)&&!e.name.includes("$")}))})).catch((function(e){throw e}))}};e.exports=c},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("jwt-decode")},function(e,t,r){const n=r(0),o=r(1),s=r(2).get("keycloak"),a=r(3),i=n.Router();i.get("/*",async(e,t)=>{o.get(s.Url+e.url,{headers:{Authorization:e.headers.authorization}}).then(e=>t.json(e.data)).catch((function(e){a.errorHandling(e),t.status(e.response.status||500).json(e.response||e)}))}),i.post("/*",async(e,t)=>{o.post(s.Url+e.url,e.body,e.headers).then(e=>t.json(e.data)).catch((function(e){a.errorHandling(e),t.status(e.response.status).json(e.response.data)}))}),e.exports=i},function(e,t,r){const n=r(0),o=r(1),s=r(2).get("hcisApi"),a=r(3),i=n.Router();i.get("/*",async(e,t)=>{o.get(s.Url+e.url).then(e=>t.json(e.data)).catch((function(e){a.errorHandling(e);let r=e.response?e.response.status:500;t.status(r).json(e)}))}),i.post("/*",async(e,t)=>{o.post(s.Url+e.url,e.body).then(e=>t.json(e.data)).catch((function(e){a.errorHandling(e);let r=e.response?e.response.status:500;t.status(r).json(e.response.data)}))}),i.put("/*",async(e,t)=>{o.put(s.Url+e.url,e.body).then(e=>t.json(e.data)).catch((function(e){a.errorHandling(e);let r=e.response?e.response.status:500;t.status(r).json(e.response.data)}))}),e.exports=i}]);